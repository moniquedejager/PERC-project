# Time interval optimization in occupancy modelling

## Description
This code was written to investigate the effects of time interval size on the accuracy of the Royle-Nichols occupancy model (occuRN in the R-package unmarked). 
For this purpose, we use presence/absence matrices consisting of 365 1-day intervals of 25 camera traps per location. These matrices were created using individual-based simulations with 19 different densities (10 simulations per density) and were saved in .txt files. Each of the 19 densities was combined with every other density to represent two locations for which the Royle-Nichols model should estimate whether the densities at these locations differ from one another. Per time interval size, ranging from 1 day to half the study duration, the presence/absence matrix was adjusted and used as imput for the RN model. The output generated by our function includes the z- and p-value of the RN occupancy model. 

Because study duration and the number of camera traps used per location also affect the results, we ranged these as well. All parameter value combinations can be adjusted in the main R-script. 

### R-scripts and functions
- **20230222RoyleNicholsStats.R**: This is the main R-script, which runs the entire code
- **create_table.R**: This script creates a file that contains all the parameter combinations
- **royle_nichols_stats.R**: Contains the function **royle_nichols_stats(sim_nr)**. This function estimates relative occupancies between two locations
and writes the z- and p-values to a file
- **get_param_values.R**: Gets the parameter values from the file
- **get_presence_absence_data.R**L Gets the presence/absence data of the two focal densities from the files 
- **adjust_matrices.R**: Adjusts the presence/absence matrices

## Dependency information
```
R version 4.1.2 (2021-11-01)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 19042)

Matrix products: default

locale:
[1] LC_COLLATE=Dutch_Netherlands.1252  LC_CTYPE=Dutch_Netherlands.1252    LC_MONETARY=Dutch_Netherlands.1252 LC_NUMERIC=C                      
[5] LC_TIME=Dutch_Netherlands.1252    

attached base packages:
[1] parallel  stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] unmarked_1.2.5 lintr_3.0.2   

loaded via a namespace (and not attached):
 [1] rex_1.2.0       Rcpp_1.0.7      xml2_1.3.2      splines_4.1.2   MASS_7.3-54     lattice_0.20-45 R6_2.5.1        minqa_1.2.4     pbapply_1.5-0  
[10] plyr_1.8.6      tools_4.1.2     grid_4.1.2      nlme_3.1-153    cyclocomp_1.1.0 withr_2.5.0     remotes_2.4.1   lme4_1.1-27.1   lazyeval_0.2.2 
[19] rprojroot_2.0.2 crayon_1.4.2    processx_3.5.2  Matrix_1.3-4    nloptr_1.2.2.2  callr_3.7.0     ps_1.6.0        compiler_4.1.2  desc_1.4.0     
[28] boot_1.3-28    
```

## Project organization
- PG = project-generated
- HW = human-writable
- RO = read only
```
.
├── .gitignore
├── CITATION.md
├── LICENSE.md
├── README.md
├── requirements.txt
├── bin                <- Compiled and external code, ignored by git (PG)
│   └── external       <- Any external source code, ignored by git (RO)
├── config             <- Configuration files (HW)
├── data               <- All project data, ignored by git
│   ├── processed      <- The final, canonical data sets for modeling. (PG)
│   ├── raw            <- The original, immutable data dump. (RO)
│   └── temp           <- Intermediate data that has been transformed. (PG)
├── docs               <- Documentation notebook for users (HW)
│   ├── manuscript     <- Manuscript source, e.g., LaTeX, Markdown, etc. (HW)
│   └── reports        <- Other project reports and notebooks (e.g. Jupyter, .Rmd) (HW)
├── results
│   ├── figures        <- Figures for the manuscript or reports (PG)
│   └── output         <- Other output for the manuscript or reports (PG)
└── src                <- Source code for this project (HW)

```


## License

This project is licensed under the terms of the [MIT License](/LICENSE.md)
